{
  "kind": "build_request",
  "title": "Build an Instagram-like social app named \"instagram ai\"",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Implement Internet Identity sign-in and an auth-gated app shell for \"instagram ai\" so users must sign in to view the feed and interact (create posts, like, comment, follow).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "Unauthenticated users see a clear sign-in screen with an Internet Identity login button.",
        "After successful login, the user is routed to the main app experience without requiring a page reload.",
        "Signing out returns the user to the sign-in screen and clears any cached user-specific UI state."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Create backend data models and persistence for core Instagram-style entities: users/profiles, posts (caption + image), follows, likes, and comments, all scoped to the caller principal.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "Backend stores a user profile per principal and can create/read/update it.",
        "Backend stores posts with author, timestamp, caption, and associated image data reference or stored bytes.",
        "Backend supports following/unfollowing and can derive follower/following counts per user.",
        "Backend supports liking/unliking posts and can return like counts and whether the caller liked a post.",
        "Backend supports adding and listing comments for a post, including author and timestamp.",
        "All write operations enforce that the caller is authenticated and only modifies their own profile and actions."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Build a main feed UI that shows a scrollable list of posts (image, author, caption, timestamp, like button/count, comment preview), and loads data using React Query with sensible loading/empty/error states.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "Feed renders a list of posts returned by the backend in reverse-chronological order (newest first).",
        "Each post card shows author, image, caption, like count, and a way to open/view comments.",
        "Loading state is shown while fetching; empty state is shown when there are no posts; error state is shown on failures.",
        "React Query caching is used so returning to the feed does not always refetch immediately."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Implement creating a new post from the frontend: image selection/upload, caption input, client-side validation, and submission to the backend; after posting, the feed updates to include the new post.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "User can open a \"New Post\" flow, select an image, add a caption, and submit.",
        "Client prevents submission when no image is selected; caption is optional (or clearly validated if required).",
        "On success, the user sees the new post in the feed without a full page refresh.",
        "If upload fails, the user sees a clear error message and can retry."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Add post interactions: like/unlike and comments (view comments, add comment) with immediate UI feedback and backend persistence.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "Tapping like toggles like/unlike for the current user and updates the like count.",
        "Comments view shows a list of comments for a post and allows adding a new comment.",
        "After adding a comment, the new comment appears in the list without a full page reload.",
        "Backend prevents empty comments (or applies clear validation rules) and enforces authenticated callers."
      ]
    },
    {
      "id": "REQ-6",
      "text": "Implement user profiles: profile page with display name, bio, avatar (optional), counts (posts/followers/following), user’s post grid/list, and ability to edit own profile.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "User can view their own profile and other users’ profiles.",
        "Own profile includes an edit flow for display name and bio (and avatar if implemented).",
        "Profile shows post count and follower/following counts derived from backend state.",
        "Profile shows the user’s posts in a grid/list similar to Instagram.",
        "Backend only allows editing the caller’s own profile."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Implement follow/unfollow between users and reflect follow state across the UI (profile pages and feed where relevant).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "On another user’s profile, a follow/unfollow button reflects current state and toggles correctly.",
        "Follower/following counts update after follow/unfollow.",
        "Backend prevents following self and handles idempotent operations safely (e.g., following twice does not duplicate)."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Add basic user discovery (search) to find profiles by display name (and/or username if included) and navigate to their profile pages.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "UI provides a search input that returns a list of matching users.",
        "Selecting a user navigates to their profile page.",
        "Search results handle loading/empty/error states clearly."
      ]
    },
    {
      "id": "REQ-9",
      "text": "Set a coherent, distinctive visual theme for an Instagram-like app (not using blue/purple) and apply it consistently across navigation, feed cards, forms, and profile pages; include a simple responsive layout suitable for mobile and desktop.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "Theme defines a consistent color palette, typography, spacing, and component styling across the app.",
        "Layout is responsive and usable on narrow mobile widths and typical desktop widths.",
        "Primary navigation (e.g., top bar or bottom nav) is consistent across main screens."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Add generated static image assets to the frontend and use them in the UI where appropriate (app branding and empty states). Store them under frontend/public/assets/generated and reference them directly from the frontend.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Make a app dito copy of Instagram ,app name is instagram ai"
        ]
      },
      "acceptanceCriteria": [
        "All required generated images exist under frontend/public/assets/generated.",
        "App uses the logo/wordmark in the auth screen and/or top navigation.",
        "Empty feed state uses the provided empty-state illustration when there are no posts."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor (no additional backend services).",
    "Do not use third-party authentication providers; only Internet Identity is supported.",
    "Do not edit any frontend files under immutable paths specified by the platform; compose existing UI components instead.",
    "No external databases or cloud storage; persist data within the Motoko canister.",
    "User-facing text must be in English."
  ],
  "nonGoals": [
    "Implement Instagram Stories, Reels, live streaming, or direct messaging.",
    "Implement push notifications, email notifications, or real-time WebSocket updates.",
    "Implement monetization/ads or advanced recommendation algorithms.",
    "Implement third-party social login (Google/Facebook/GitHub/Auth0)."
  ],
  "imageRequirements": {
    "required": [
      "App logo icon, modern gradient camera mark (instagram-ai-logo.dim_512x512.png)",
      "App wordmark text logo reading \"instagram ai\" (instagram-ai-wordmark.dim_1200x300.png)",
      "Default user avatar placeholder, neutral minimal style (default-avatar.dim_256x256.png)",
      "Empty feed illustration, minimal social/photo motif (empty-feed-illustration.dim_1200x800.png)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}